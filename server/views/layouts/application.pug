include ../mixins/forms.pug

doctype html
html(lang="ru")
  head
    title Hexlet Task Manager
    script(src=assetPath('main.js'))
    link(href=assetPath('main.css') rel="stylesheet")
    meta(name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no")
  body.d-flex.flex-column.min-vh-100
    header.p-3.bg-dark.text-white
      .container
        .d-flex.flex-wrap.align-items-center.justify-content-center.justify-content-lg-start
          a.d-flex.align-items-center.mb-2.mb-lg-0.text-white.text-decoration-none(href="/")
            svg.bi.me-2(width="40" height="32" role="img" aria-label="Bootstrap")
            use(xlink:href="#bootstrap")
          ul.nav.col-12.col-lg-auto.me-lg-auto.mb-2.justify-content-center.mb-md-0
            li.nav-item
              a.nav-link.px-2.text-white(href=route('users'))= t('layouts.application.users')
            //- li
            //-   a.nav-link.px-2.text-white(href="#") Features
            //- li
            //-   a.nav-link.px-2.text-white(href="#") Pricing
            //- li
            //-   a.nav-link.px-2.text-white(href="#") FAQs
            //- li
            //-   a.nav-link.px-2.text-white(href="#") About
          .text-end
            //- a.btn.btn-outline-light.me-2(href=route('newSession') type="button")= t('layouts.application.signIn')
            //- a.btn.btn-warning(href=route('newUser') type="button")= t('layouts.application.signUp')
          if isAuthenticated()
            +buttonTo(route('session'), 'delete')(class="btn nav-link" value=t('layouts.application.signOut'))
          else
            a.btn.btn-outline-light.me-2(href=route('newSession') type="button")= t('layouts.application.signIn')
            a.btn.btn-warning(href=route('newUser') type="button")= t('layouts.application.signUp')
    .container.wrapper.flex-grow-1

      each messages, type in reply.flash() || []
        each message in messages
          div.alert(class=`alert-${getAlertClass(type)}`)= message

      h1.my-4
        block header
      block content

    footer
      .container.my-5.pt-4.border-top
        a(target="_blank" href="https://ru.hexlet.io") Hexlet
